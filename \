module ABFA.Settings where

import Foreign.Lua

data Settings = Settings
  { screenw :: !Int
  , screenh :: !Int
  } deriving (Eq, Show)

importSettings :: IO (Settings)
importSettings = run $ do
  openlibs
  dofile "mods/base/base"
  sw <- getglobal "screenw" *> peek (-1)
  sh <- getglobal "screenh" *> peek (-1)
  return settings
  where settings = Settings { screenw = sw
                            , screenh = sh }
